<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setting</title>
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">

    <!-- Bootstrap 5 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.rtl.min.css" integrity="sha384-+qdLaIRZfNu4cVPK/PxJJEy0B0f3Ugv8i482AKY7gwXwhaCroABd086ybrVKTa0q" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    
    <!-- Flat Picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <!-- Style -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="loader-bg">
        <div class="loader"></div>
    </div>
    <div class="sidebar" id="sidebar">
        <div class="close" id="closeSidebar"><i class="fa-solid fa-xmark"></i></div>
        <div class="content">
            <div class="logo">
                <img src="assets/imgs/logo.png" alt="">
            </div>
            <ul class="links">
                <li>
                    <a href="home.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/noun_dashboard_35955461.png" alt="">
                        </span>
                        الرئيسية
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="services.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/noun_Store_2102609.png" alt="">
                        </span>
                        الخدمات
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="bookings.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/noun_product_3165399.png" alt="">
                        </span>
                        الحجوزات
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="offers.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/noun_menu_4107629.png" alt="">
                        </span>
                        العروض
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="conversations.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/comment.png" alt="">
                        </span>
                        محادثات العملاء
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="finance.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/home.png" alt="">
                        </span>
                        المالية
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="reports.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/noun_list.png" alt="">
                        </span>
                        التقارير
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="setting.html" class="active">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/setting.png" alt="">
                        </span>
                        الاعدادات
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="services-rating.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/noun_list.png" alt="">
                        </span>
                        التقييمات
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="contact-us.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/contact.png" alt="">
                        </span>
                        تواصل معنا
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
                <li>
                    <a href="index.html">
                        <span class="icon-co">
                            <img src="assets/imgs/sidebar/noun_logout.png" alt="">
                        </span>
                        تسجيل الخروج
                        <i class="fa-solid fa-angle-left icon-right"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <nav class="navbar-me" id="navbar">
        <div class="container-c">
            <div class="content">
                <div class="menu" id="menu">
                    <img src="assets/imgs/navbar/noun_List_2946302.png" alt="">
                </div>
                <div class="left">
                    <div class="not">
                        <a href="notifications.html"></a>
                        <!-- <img src="assets/imgs/navbar/bell.png" alt=""> -->
                        <i class="fa-regular fa-bell"></i>
                        <span class="number">3</span>
                    </div>
                    <div class="account">
                        <img src="assets/imgs/team-1.jpg" alt="">
                        <div class="info">
                            <h3>محمد رمضان</h3>
                            <span>المدير العام</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="main-sec" id="main">
        <div class="container-c">

            <!-- Start Text Section -->
            <div class="text">
                <h1 class="head">الملف الشخصي</h1>
                <p>يمكنك التعديل علي البيانات الشخصية</p>
            </div>

            <ul class="nav nav-pills mb-4" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">البيانات الشخصية</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">مواعيد العمل</button>
                </li>
            </ul>

            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab" tabindex="0">
                    <div class="form-section-style">
                        <h3 class="title-section-m">البيانات الشخصية</h3>
                        <div class="section-m-padding">
                            <form action="">
                                <div class="form-content">
                                    <div class="inputs-m">
                                        <div class="input-g col-md-8">
                                            <label for="">اسم الشركة</label>
                                            <input type="text" placeholder="الرجاء ادخال الاسم">
                                        </div>
                                        <div class="input-g col-md-8">
                                            <label for="">رقم الجوال</label>
                                            <input type="number" placeholder="الرجاء ادخال الرقم">
                                        </div>
                                        <div class="input-g select-me col-md-8">
                                            <label for="">الأقسام الرئيسية</label>
                                            <select class="js-example-placeholder-multiple js-states form-control" multiple="multiple">
                                                <option value="0">عيادات تجميل</option>
                                                <option value="0">نوادي صحية</option>
                                                <option value="0">الاسنان</option>
                                                <option value="0">مختبرات</option>
                                            </select>
                                        </div>
                                        <div class="input-g select-me col-md-8">
                                            <label for="">الأقسام الفرعية</label>
                                            <select class="select-num-two js-states form-control" multiple="multiple">
                                                <option value="0">عيادات تجميل</option>
                                                <option value="0">نوادي صحية</option>
                                                <option value="0">الاسنان</option>
                                                <option value="0">مختبرات</option>
                                            </select>
                                        </div>
                                        <div class="input-g col-md-8">
                                            <label for="">صورة الهوية الوطنية</label>
                                            <input type="file" id="image-upload" class="login-upload-input">
                                            <label for="image-upload" class="image-label">
                                                <span>الرجاء ادخال الصورة</span>
                                                <i class="fa-solid fa-camera"></i>
                                            </label>
                                            <div class="img-upload-show"></div>
                                        </div>
                                        <div class="input-g col-md-8">
                                            <label for="">صورة اللوجو</label>
                                            <input type="file" id="logo-upload" class="login-upload-input">
                                            <label for="logo-upload" class="image-label">
                                                <span>الرجاء ادخال الصورة</span>
                                                <i class="fa-solid fa-camera"></i>
                                            </label>
                                            <div class="img-upload-show"></div>
                                        </div>

                                        <div class="input-g col-md-8" style="margin-bottom: 8px;">
                                            <label for="">صور الاعمال</label>
                                            <input type="file" id="fileInput" multiple>
                                            <label for="fileInput" class="image-label">
                                                <span>الرجاء ادخال الصورة</span>
                                                <i class="fa-solid fa-camera"></i>
                                            </label>
                                            <div class="images" id="imagesMe"></div>
                                        </div>

                                        <div class="input-g col-md-8">
                                            <label for="">صورة السجل التجاري</label>
                                            <input type="file" id="segel-upload" class="login-upload-input">
                                            <label for="segel-upload" class="image-label">
                                                <span>الرجاء ادخال الصورة</span>
                                                <i class="fa-solid fa-camera"></i>
                                            </label>
                                            <div class="img-upload-show"></div>
                                        </div>
                                        <div class="input-g col-md-8">
                                            <label for="">الرقم الضربيي</label>
                                            <input type="number" placeholder="الرجاء ادخال الرقم">
                                        </div>
                                        <div class="input-g col-md-8">
                                            <label for="">العنوان</label>
                                            <div class="input-icon">
                                                <input type="text" placeholder="الرجاء ادخال العنوان" id="inputMap" data-bs-toggle="modal" data-bs-target="#mapModal">
                                                <i class="fa-solid fa-location-dot"></i>
                                            </div>
                                        </div>
                                        <div class="input-g col-md-8">
                                            <label for="">اسم البنك</label>
                                            <input type="text" placeholder="الرجاء ادخال الاسم">
                                        </div>
                                        <div class="input-g col-md-8">
                                            <label for="">اسم الحساب</label>
                                            <input type="text" placeholder="الرجاء ادخال الاسم">
                                        </div>
                                        <div class="input-g col-md-8">
                                            <label for="">رقم الايبان</label>
                                            <input type="number" value="000214100251025256" readonly class="input-read">
                                        </div>
                                        <div class="input-g col-md-8 switch-con">
                                            <label for="">متاح لاستقبال الطلبات</label>
                                            <input type="checkbox" hidden name="" id="switch">
                                            <label for="switch" class="switch">
                                                <div class="main-div">
                                                    <span></span>
                                                </div>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Start buttons Section -->
                                <div class="setting-buttons d-flex justfiy-content-space-between col-md-9">
                                    <div class="row g-0">
                                        <button type="submit" class="submit-btn col-sm-5" >حفظ التغييرات</button>
                                        <a href="setting-password.html" class="submit-btn password-btn col-sm-5">تغيير كلمة المرور</a>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab" tabindex="0">
                    <div class="work-date-container form-section-style">
                        <h3 class="title-section-m">مواعيد العمل</h3>
                        <form action="" class="section-m-padding">
                            <div class="work-date-content">
                                <div class="work-parent row g-0">
                                    <div class="work-date col-md-10">
                                        <div class="row g-2">
                                            <div class="input-work col-6 col-sm-6 col-md-2">
                                                <div class="input-icon">
                                                    <i class="fa-solid fa-angle-down"></i>
                                                    <select name="" id="">
                                                        <option value="" selected hidden>اليوم</option>
                                                        <option value="">الأحد</option>
                                                        <option value="">الاثنين</option>
                                                        <option value="">الثلاثاء</option>
                                                        <option value="">الاربعاء</option>
                                                        <option value="">الخميس</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="input-work col-6 col-sm-6 col-md-4">
                                                <input type="text" placeholder="من" class="from-date">
                                            </div>
                                            <div class="input-work col-6 col-sm-6 col-md-4">
                                                <input type="text" placeholder="الى" class="to-date">
                                            </div>
                                            <div class="work-plus-icon col-6 col-sm-6 col-md-1">
                                                <i class="fa-solid fa-plus"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="submit-btn">حفظ التغييرات</button>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Modal Two -->
    <div class="modal fade modal-map" id="mapModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="text">من فضلك قم بإدخال العنوان</h1>
                </div>
                <div class="modal-body">
                    <div id="map" style="width:100%;height:400px;"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="my-btn confirm-btn" data-bs-dismiss="modal">تأكيد</button>
                </div>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script type="text/javascript" src="https://maps.google.com/maps/api/js?key=AIzaSyA9_ve_oT3ynCaAF8Ji4oBuDjOhWEHE92U&libraries=places"></script>
    
    <!-- Select Two -->
    <script>
        $(".js-example-placeholder-multiple").select2({
            placeholder: "الرجاء اختيار الأقسام الرئيسية"
        });
        $(".select-num-two").select2({
            placeholder: "الرجاء اختيار الأقسام الفرعية"
        });
    </script>

    <!-- Upload One Img -->

    <!-- Upload Multiple Images -->
    <script>
        const fileInput = document.getElementById('fileInput');
        const imagesDiv = document.getElementById('imagesMe');

        if(fileInput){
        fileInput.onchange = function (){
            for(file of fileInput.files){
            // Create Main Div
            let imgContainer = document.createElement('div');
            imgContainer.classList.add('img-hidden');
        
            // Create Input Hidden To Get The File Name
            let inputHidden = document.createElement('input');
            inputHidden.setAttribute("type", "hidden");
            inputHidden.value = `${file.name}`;
        
            // Append The Input To Main Div
            imgContainer.append(inputHidden);
        
            // Create Remove Button
            let removeBtn = document.createElement('span');
            removeBtn.classList.add('remove-img-btn');
            removeBtn.innerHTML = `<i class="fa-solid fa-xmark"></i>`;
        
            // Append The Button To Main Div
            imgContainer.append(removeBtn);
        
            // Remove Parent Div From Page When Click The Button
            removeBtn.onclick= function(e){
                if(e.target.classList.contains('remove-img-btn')){
                e.target.parentElement.remove();
                } else{
                e.target.parentElement.parentElement.remove();
                }
            }
        
            let reader = new FileReader();
            reader.onload = ()=>{
                // Create Img
                let img = document.createElement('img');
                img.setAttribute('src', reader.result);
                
                // Append The Img To Main Div
                imgContainer.append(img);
            }
            imagesDiv.prepend(imgContainer);
            reader.readAsDataURL(file);
            }
        }
        }
    </script>

    <!-- Add Work Date -->
    <script>
        let plusBtn = document.querySelector('.work-plus-icon');
        let workParent = document.querySelector('.work-parent');

        plusBtn.addEventListener('click', function(){
            let dateRow = document.createElement('div');
            dateRow.innerHTML = `
                <div class="row g-2">
                    <div class="input-work col-6 col-sm-6 col-md-2">
                        <div class='input-icon'>
                            <select name="" id="">
                                <option value="" selected hidden>اليوم</option>
                                <option value="">الأحد</option>
                            </select>
                            <i class="fa-solid fa-angle-down"></i>
                        </div>
                    </div>
                    <div class="input-work col-6 col-sm-6 col-md-4">
                        <input type="text" placeholder="من" class='from-date'>
                    </div>
                    <div class="input-work col-6 col-sm-6 col-md-4">
                        <input type="text" placeholder="الى" class='to-date'>
                    </div>
                    <div class="work-close-icon col-6 col-sm-6 col-md-1" onclick="deleteDate(this)" ">
                        <i class="fa-solid fa-xmark"></i>
                    </div>
                </div>
            `;

            dateRow.classList.add('work-date', 'col-md-10');
            workParent.append(dateRow);

            // Call flatpickr again after adding a new row
            flatpickr(".from-date", {
                disableMobile: "true"
            });
            flatpickr(".to-date", {
                disableMobile: "true"
            });
        });
        
        function deleteDate(el){
            el.parentElement.parentElement.remove();
        }
    </script>

    <!-- Flat Picker -->
    <script>
        flatpickr(".from-date", {
            disableMobile: "true"
        });
        flatpickr(".to-date", {
            disableMobile: "true"
        });
    </script>

    <!-- Initialize And Add The Map -->
    <script>
        function initMap() {
            var location = { lat: 24.746189966314272, lng: 46.87979429238138 };

            var map = new google.maps.Map(document.getElementById("map"), {
                zoom: 4,
                center: location,
            });

            var marker = new google.maps.Marker({
                position: location,
                map: map,
                draggable: true,
                title: "اسحب العلامة"
            });

            let infowindow = [];
            google.maps.event.addListener(marker, 'dragend', function (evt) {

                const geocoder = new google.maps.Geocoder();

                function geoLatLng(){
                    geocoder.geocode({location: evt.latLng}).then((res) =>{
                        let theCountry = res.results[0].formatted_address;

                        let newInfoWindow = new google.maps.InfoWindow({
                            content: `${theCountry}`
                        });

                        infowindow.push(newInfoWindow);
                        for(let i =0; i< infowindow.length; i++){
                            infowindow[i].close();
                            infowindow[infowindow.length - 1].open(map, marker);
                        }

                        let confirmBtn = document.querySelector('.confirm-btn');
                        confirmBtn.addEventListener('click', ()=>{
                            document.getElementById('inputMap').value = `${theCountry}`;
                        });
                    });
                }

                geoLatLng();
            });
        }

        initMap();

    </script>
    <script src="assets/js/main.js"></script>
</body>
</html>